{"version":3,"sources":["../../src/pages/addoperator/addoperator.module.ts","../../src/pages/addoperator/addoperator.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACA;AAUhD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,qEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,qEAAe,CAAC;aAC1C;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZQ;AACmE;AACvD;AACb;AACS;AAC6B;AAC3B;AACU;AACP;AAEvD;;;;;GAKG;AAOH;IA4BE,yBAAmB,OAAsB,EAChC,SAAoB,EACnB,IAAoB,EACrB,OAAmB,EACnB,SAA0B,EAC1B,IAAgB,EACf,GAAiB,EACjB,OAAgB,EACjB,gBAAiC,EACjC,WAA8B,EAC9B,UAA4B;QAVrC,iBAyBC;QAzBkB,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAW;QACnB,SAAI,GAAJ,IAAI,CAAgB;QACrB,YAAO,GAAP,OAAO,CAAY;QACnB,cAAS,GAAT,SAAS,CAAiB;QAC1B,SAAI,GAAJ,IAAI,CAAY;QACf,QAAG,GAAH,GAAG,CAAc;QACjB,YAAO,GAAP,OAAO,CAAS;QACjB,qBAAgB,GAAhB,gBAAgB,CAAiB;QACjC,gBAAW,GAAX,WAAW,CAAmB;QAC9B,eAAU,GAAV,UAAU,CAAkB;QAdrC,eAAU,GAAW,EAAE,CAAC;QAExB,kBAAa,GAAQ,EAAE,CAAC;QAatB,OAAO,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACnC,EAAE,CAAC,CAAC,GAAG,IAAI,IAAI,CAAC,EAAC;gBACf,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBAChC,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qEAAS,CAAC,CAAC;YAC/B,CAAC;YACD,IAAI,EAAC;gBACH,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBAChC,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;gBACnC,KAAI,CAAC,aAAa,EAAE,CAAC;gBACrB,KAAI,CAAC,sBAAsB,EAAE,CAAC;YAChC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,yCAAe,GAAf;QACE,OAAO,CAAC,GAAG,CAAC,gCAAgC,CAAC,CAAC;QAC9C,IAAI,CAAC,sBAAsB,EAAE,CAAC;QAC9B,uBAAuB;IACzB,CAAC;IAEM,wCAAc,GAArB;QACE,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAEO,4CAAkB,GAA1B;QACE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACnC,IAAI,CAAC,sBAAsB,EAAE,CAAC;IAChC,CAAC;IAEO,gDAAsB,GAA9B;QACI,IAAI,CAAC,KAAK,GAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAC3D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;QAC1D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;QAC5D,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACtD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,2BAA2B,CAAC,CAAC;QAC1E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC;QAChE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;IAChE,CAAC;IAGD,oCAAU,GAAV;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;IACtB,CAAC;IAED,uCAAa,GAAb;QAAA,iBAkBC;QAjBC,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QACnC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACrD,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC/B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACxB,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;YACvC,KAAI,CAAC,YAAY,GAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACxC,KAAI,CAAC,OAAO,GAAG,EAAE,CAAC;YAClB,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,CAAC;YAC9B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,KAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;gBAC5C,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC;oBAChB,WAAW,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC;oBAChC,YAAY,EAAE,KAAI,CAAC,YAAY,CAAC,CAAC,CAAC;iBACnC,CAAC;YACJ,CAAC;QACL,CAAC,EAAE,aAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACH,CAAC;IAGD,oCAAU,GAAV;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACrC,OAAO,EAAE,YAAY;SACtB,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IAED,uCAAa,GAAb;QAAA,iBA4CC;QA3CC,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACnE,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YAC/B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACxB,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;YAClC,EAAE,CAAC,CAAC,KAAI,CAAC,WAAW,IAAI,OAAO,CAAC,EAAC;gBAC/B,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,uBAAuB;oBAC9B,QAAQ,EAAE,gDAAgD;oBAC1D,OAAO,EAAE,CAAC,IAAI,CAAC;iBAChB,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YACD,IAAI,EAAC;gBACH,IAAI,WAAW,GAAG,EAAE,CAAC;gBACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,KAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;oBAC9C,WAAW,CAAC,CAAC,CAAC,GAAG,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;gBACzD,CAAC;gBACD,KAAI,CAAC,OAAO,CAAC,WAAW,CAAC,KAAI,CAAC,YAAY,EAAE,KAAI,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACjF,IAAI,IAAI,GAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;oBAC9B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACxB,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACnC,EAAE,CAAC,CAAC,KAAI,CAAC,YAAY,IAAI,OAAO,CAAC,EAAC;wBAChC,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAChC,KAAK,EAAE,sBAAsB;4BAC7B,QAAQ,EAAE,kBAAkB;4BAC5B,OAAO,EAAE,CAAC,IAAI,CAAC;yBAChB,CAAC,CAAC;wBACH,OAAK,CAAC,OAAO,EAAE,CAAC;oBAClB,CAAC;oBACD,IAAI,EAAC;wBACH,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAChC,KAAK,EAAE,6BAA6B;4BACpC,OAAO,EAAE,CAAC,IAAI,CAAC;yBAChB,CAAC,CAAC;wBACH,OAAK,CAAC,OAAO,EAAE,CAAC;wBAChB,KAAI,CAAC,UAAU,EAAE,CAAC;oBACpB,CAAC;gBACH,CAAC,CAAC;YACJ,CAAC;QACH,CAAC,EAAE,aAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kBAAkB;IAClB,kCAAkC;IAClC,qCAAqC;IACrC,4CAA4C;IAC5C,wDAAwD;IACxD,0BAA0B;IAC1B,qDAAqD;IACrD,8DAA8D;IAC9D,MAAM;IACN,+BAA+B;IAC/B,IAAI;IAEJ,uCAAa,GAAb,UAAc,IAAI;QAChB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChC,CAAC;QAAA,IAAI,EAAC;YACJ,IAAI,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,UAAS,EAAE;gBAClD,MAAM,CAAC,EAAE,CAAC,YAAY,KAAK,IAAI,CAAC,YAAY,CAAC;YAC/C,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC;QAChC,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAClC,CAAC;IArLU,eAAe;QAJ3B,wEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;WACG;SAChC,CAAC;6EA6ByC;YACrB,qEAAS;YACb,wEAAc;YACb,sEAAW;YACR,yEAAe;YACpB,kFAAU;YACV,gEAAY;YACR,kEAAO;YACC,wEAAe;YACpB,8EAAiB;YAClB,YAAgB;OAtC1B,eAAe,CAuL3B;IAAD,CAAC;AAAA;SAvLY,eAAe,e","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddoperatorPage } from './addoperator';\n\n@NgModule({\n  declarations: [\n    AddoperatorPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddoperatorPage),\n  ],\n})\nexport class AddoperatorPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addoperator/addoperator.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, AlertController, LoadingController } from 'ionic-angular';\nimport { AppProvider } from '../../providers/app/app';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient } from '@angular/common/http';\nimport { InAppBrowser, InAppBrowserEvent } from '@ionic-native/in-app-browser';\nimport { LoginPage } from '../../pages/login/login';\nimport { KakaoCordovaSDK, KLCustomTemplate } from 'kakao-sdk';\nimport { TranslateService } from '@ngx-translate/core';\n\n/**\n * Generated class for the AddoperatorPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-addoperator',\n  templateUrl: 'addoperator.html',\n})\nexport class AddoperatorPage {\n\n  public language: string;\n  public title: string;\n  public email: string;\n  public skills: string;\n  public add: string;\n  public errormsgtitle: string;\n  public errormsg: string;\n  public addmsg: string;\n\n  private access_token:string;\n\n  loading:any;\n\n  vehicle: Array<{\n    vehicle_url: string,\n    vehicle_type: string\n  }>;\n\n  public vehicle_type: string[];\n  public vehicle_url: string[];\n  public check_email: string;\n  public add_operator: string;\n  emailField: string = \"\";\n\n  selectedArray: any = [];\n\n  constructor(public navCtrl: NavController, \n    public navParams: NavParams, \n    private view: ViewController,\n    public appprov:AppProvider, \n    public alertCtrl: AlertController, \n    public http: HttpClient, \n    private iab: InAppBrowser, \n    private storage: Storage, \n    public _kakaoCordovaSDK: KakaoCordovaSDK,\n    public loadingCtrl: LoadingController,\n    public _translate: TranslateService) {\n    storage.ready().then(() => {\n    });\n    storage.get('access_token').then((val) => {\n      if (val == null){\n        console.log(\"No acccess token\");\n        this.navCtrl.push(LoginPage);\n      }\n      else{\n        console.log(\"Got access token\");\n        this.access_token = val.toString();\n        this.getVehicleUrl();\n        this._initializeTranslation();\n      }\n    });\n  }\n\n  ionViewDidEnter() {\n    console.log('ionViewDidLoad AddoperatorPage');\n    this._initializeTranslation();\n    //this.getVehicleUrl();\n  }\n\n  public changeLanguage(): void{\n    this._translateLanguage();\n  }\n  \n  private _translateLanguage() : void{\n    this._translate.use(this.language);\n    this._initializeTranslation();\n  }\n    \n  private _initializeTranslation(): void{\n      this.title =  this._translate.instant(\"addoperator.title\");\n      this.email = this._translate.instant(\"addoperator.email\");\n      this.skills = this._translate.instant(\"addoperator.skills\");\n      this.add = this._translate.instant(\"addoperator.add\");\n      this.errormsgtitle = this._translate.instant(\"addoperator.errormsgtitle\");\n      this.errormsg = this._translate.instant(\"addoperator.errormsg\");\n      this.addmsg = this._translate.instant(\"addoperator.addmsg\");\n  }\n\n\n  closeModal(){\n    this.view.dismiss();\n  }\n\n  getVehicleUrl(){\n    console.log(\"getting vehicle url\");\n    this.appprov.getVehicleUrl(this.access_token).then((res) =>{\n      let data = JSON.stringify(res);\n      data = JSON.parse(data);\n      this.vehicle_url = data['vehicle_url'];\n      this.vehicle_type= data['vehicle_type'];\n      this.vehicle = [];\n      console.log(this.vehicle_url);\n      for (let i=0; i<this.vehicle_url.length; i++){\n        this.vehicle.push({\n          vehicle_url: this.vehicle_url[i],\n          vehicle_type: this.vehicle_type[i],\n        })\n      } \n  }, err =>{\n    console.log(err);\n  });\n  } \n  \n\n  showLoader(){\n    this.loading = this.loadingCtrl.create({\n      content: 'Loading...'\n    });\n    this.loading.present();\n  }\n\n  itemTappedAdd(){\n    console.log(\"adding oeprator\");\n    this.appprov.checkEmail(this.access_token, this.emailField).then((res) => {\n      let data = JSON.stringify(res);\n      data = JSON.parse(data);\n      this.check_email = data['result'];\n      if (this.check_email == 'false'){\n        let alert = this.alertCtrl.create({\n          title: 'Email does not exists',\n          subTitle: 'Double check email or invite him via kakaotalk',\n          buttons: ['OK']\n        });\n        alert.present();\n      }\n      else{\n        let vehicletype = [];\n        for (let i=0; i<this.selectedArray.length; i++){\n          vehicletype[i] = this.selectedArray[i]['vehicle_type'];\n        }\n        this.appprov.addOperator(this.access_token, this.emailField, vehicletype).then((res) => {\n          let data =JSON.stringify(res);\n          data = JSON.parse(data);\n          this.add_operator = data['result'];\n          if (this.add_operator == 'false'){\n            let alert = this.alertCtrl.create({\n              title: 'Fail to add operator',\n              subTitle: 'Please try again',\n              buttons: ['OK']\n            });\n            alert.present();\n          }\n          else{\n            let alert = this.alertCtrl.create({\n              title: 'Operator added successfully',\n              buttons: ['OK']\n            });\n            alert.present();\n            this.closeModal();\n          }\n        })\n      }\n    }, err => {\n      console.log(err);\n    });\n  }\n \n  // itemTappedAd(){\n  //   console.log(this.emailField);\n  //   console.log(this.selectedArray);\n  //   console.log(this.selectedArray.length);\n  //   console.log(this.selectedArray[0]['vehicle_type']);\n  //   let vehicletype = [];\n  //   for (let i=0; i<this.selectedArray.length; i++){\n  //     vehicletype[i] = this.selectedArray[i]['vehicle_type'];\n  //   }\n  //   console.log (vehicletype);\n  // }\n\n  selectVehicle(data){\n    if (data.checked == true) {\n      this.selectedArray.push(data);\n    }else{\n      let newArray = this.selectedArray.filter(function(el){\n        return el.vehicle_type !== data.vehicle_type;\n      });\n      this.selectedArray = newArray;\n    }\n    console.log(this.selectedArray);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addoperator/addoperator.ts"],"sourceRoot":""}