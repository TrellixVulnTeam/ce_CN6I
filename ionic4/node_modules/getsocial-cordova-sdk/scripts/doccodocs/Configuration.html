<!DOCTYPE html>

<html>
<head>
  <title>Configuration.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="public/stylesheets/normalize.css" />
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div class="container">
    <div class="page">

      <div class="header">
        
          <h1>Configuration.js</h1>
        

        
          <div class="toc">
            <h3>Table of Contents</h3>
            <ol>
              
                
                <li>
                  <a class="source" href="ActivitiesViewBuilder.html">
                    ActivitiesViewBuilder.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="Configuration.html">
                    Configuration.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="CurrentUser.html">
                    CurrentUser.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="GetSocial.html">
                    GetSocial.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="NotificationsViewBuilder.html">
                    NotificationsViewBuilder.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="SmartInviteViewBuilder.html">
                    SmartInviteViewBuilder.js
                  </a>
                </li>
              
                
                <li>
                  <a class="source" href="UserListViewBuilder.html">
                    UserListViewBuilder.js
                  </a>
                </li>
              
            </ol>
          </div>
        
      </div>

      
        
        
        
          <div class='highlight'><pre><span class="hljs-comment">/*
 *    	Copyright 2015-2016 GetSocial B.V.
 *
 *	Licensed under the Apache License, Version 2.0 (the "License");
 *	you may not use this file except in compliance with the License.
 *	You may obtain a copy of the License at
 *
 *    	http://www.apache.org/licenses/LICENSE-2.0
 *
 *	Unless required by applicable law or agreed to in writing, software
 *	distributed under the License is distributed on an "AS IS" BASIS,
 *	WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *	See the License for the specific language governing permissions and
 *	limitations under the License.
 */</span>

  <span class="hljs-keyword">var</span> NATIVE_BRIDGE_NAME = <span class="hljs-string">"GetSocialConfiguration"</span>

  <span class="hljs-keyword">var</span> SCALE_MODE = {
      SCALE_WITH_SCREEN_SIZE: <span class="hljs-number">1</span>
  }

  <span class="hljs-keyword">var</span> ANIMATION_STYLE = {
      NONE: <span class="hljs-number">0</span>,
      SCALE: <span class="hljs-number">1</span>,
      FADE: <span class="hljs-number">2</span>,
      FADEANDSCALE: <span class="hljs-number">3</span>
  }

  <span class="hljs-keyword">var</span> Configuration = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}

  <span class="hljs-keyword">var</span> Configuration = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">this</span>.instance = <span class="hljs-literal">null</span>;

      <span class="hljs-keyword">this</span>.onSuccess = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}
      <span class="hljs-keyword">this</span>.onErrorPlugin = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
          <span class="hljs-built_in">console</span>.log(err);
      }
  }

  Configuration.getInstance = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.instance) {
          <span class="hljs-keyword">this</span>.instance = <span class="hljs-keyword">new</span> Configuration();
      }
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.instance;
  }</pre></div>
        
      
        
        <p>/ <summary>
/ Sets the UI configuration file to use.
/ </summary>
/ <param name="configFile">Relative path to the configuration file in <c>/assets/</c>folder or URL.</p>

        
          <div class='highlight'><pre>  Configuration.prototype.setConfiguration = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fileOrUrl, onResult</span>) </span>{
    <span class="hljs-keyword">if</span>(fileOrUrl == <span class="hljs-literal">null</span> || fileOrUrl == <span class="hljs-string">""</span>) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Configuration path is null or empty"</span>);
        <span class="hljs-keyword">return</span>;
    }

    cordova.exec(onResult, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setConfiguration"</span>, [fileOrUrl]);
  }</pre></div>
        
      
        
        <p>/ <summary>
/ Clear all GetSocial UI configurations and set them to default. Invoke outside of transaction.
/ </summary></p>

        
          <div class='highlight'><pre>  Configuration.prototype.clear = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">onResult</span>) </span>{
    cordova.exec(onResult, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"clear"</span>, []);
  }</pre></div>
        
      
        
        <p>/ <summary>
/ All GetSocial UI configuration changes should start with call to <c><see cref="BeginTransaction"/></c>.
/ </summary></p>

        
          <div class='highlight'><pre>  Configuration.prototype.beginTransaction = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"beginTransaction"</span>, []);
  }</pre></div>
        
      
        
        <p>/ <summary>
/ All GetSocial UI configuration changes should end with call to <c><see cref="EndTransaction"/></c>.
/ </summary></p>

        
          <div class='highlight'><pre>  Configuration.prototype.endTransaction = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"endTransaction"</span>, []);
  }</pre></div>
        
      
        
        <p>/ <summary>
/ Base path relative to <c>/assets/</c> folder,
/ e.g. if all resources are in <c>/assets/getsocial/</c>, call method
/ <c>SetBasePath(“getsocial/“)</c>;
/ </summary>
/ <param name="basePath">Base path for assets relative to <c>/assets/</c> folder.</param></p>

        
          <div class='highlight'><pre>  Configuration.prototype.setBasePath = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">basePath</span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setBasePath"</span>, [basePath]);
  }</pre></div>
        
      
        
        <p>/ <summary>
/ Sets the image path.
/ </summary>
/ <param name="id">Id of the element to customize.</param>
/ <param name="path">Image path relative to <c>/assets/</c> folder.</param></p>

        
          <div class='highlight'><pre>        
  Configuration.prototype.setImagePath = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, path</span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setImagePath"</span>, [id, path]);
  }
  Configuration.prototype.setBaseDesign = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">width, height, ppi, scaleMode</span>) </span>{
    <span class="hljs-keyword">var</span> scaleModeString = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">switch</span>(scaleMode) {
       <span class="hljs-keyword">case</span> SCALE_MODE.SCALE_WITH_SCREEN_SIZE:
          scaleModeString = <span class="hljs-string">"scale-with-screen-size"</span>;
          <span class="hljs-keyword">break</span>;

       <span class="hljs-keyword">default</span>:
          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Specified scale mode is not valid"</span>);
          scaleModeString = <span class="hljs-string">"scale-with-screen-size"</span>;
          <span class="hljs-keyword">break</span>;
    }
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setBaseDesign"</span>, [width, height, ppi, scaleModeString]);
  }
  Configuration.prototype.setDimension = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, dimension</span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setDimension"</span>, [id, dimension]);
  }
  Configuration.prototype.setAspectRatio = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, aspectRatio</span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setAspectRatio"</span>, [id, aspectRatio]);
  }
  Configuration.prototype.setTextStyle = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, typefacePath, textSize, textColor, strokeColor, strokeSize, strokeXOffset, strokeYOffset</span>) </span>{
    <span class="hljs-keyword">var</span> mStrokeColor = <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span>(strokeColor != <span class="hljs-literal">null</span>) {
        mStrokeColor = strokeColor
    }
    <span class="hljs-keyword">var</span> mStrokeSize = <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span>(strokeSize != <span class="hljs-literal">null</span>) {
        mStrokeSize = strokeSize
    }
    <span class="hljs-keyword">var</span> mStrokeXOffset = <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span>(strokeXOffset != <span class="hljs-literal">null</span>) {
        mStrokeXOffset = strokeXOffset
    }
    <span class="hljs-keyword">var</span> mStrokeYOffset = <span class="hljs-number">0</span>
    <span class="hljs-keyword">if</span>(strokeYOffset != <span class="hljs-literal">null</span>) {
        mStrokeYOffset = strokeYOffset
    }
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setTextStyle"</span>, [id, typefacePath, textSize, textColor, mStrokeColor, mStrokeSize, mStrokeXOffset, mStrokeYOffset]);
  }
  Configuration.prototype.setAnimationStyle = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, animationStyle</span>) </span>{
    <span class="hljs-keyword">var</span> animationStyleResult = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> ANIMATION_STYLE) {
      <span class="hljs-keyword">if</span> (!ANIMATION_STYLE.hasOwnProperty(k)) <span class="hljs-keyword">continue</span>;
      <span class="hljs-keyword">if</span> (ANIMATION_STYLE[k] === animationStyle) {
        animationStyleResult = animationStyle
      }
    }
    <span class="hljs-keyword">if</span>(animationStyle == <span class="hljs-number">-1</span>) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Wrong animationStyle value"</span>);
        <span class="hljs-keyword">return</span>;
    }

    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setAnimationStyle"</span>, [id, animationStyle]);
  }
  Configuration.prototype.setInsets = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, top, right, bottom, left</span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setInsets"</span>, [id, top, right, bottom, left]);
  }
  Configuration.prototype.setColor = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color, element</span>) </span>{
    cordova.exec(<span class="hljs-keyword">this</span>.onSuccess, <span class="hljs-keyword">this</span>.onFailure, NATIVE_BRIDGE_NAME, <span class="hljs-string">"setColor"</span>, [color, element]);
  }

  <span class="hljs-built_in">module</span>.exports = Configuration;
  <span class="hljs-built_in">module</span>.exports.SCALE_MODE = SCALE_MODE;
  <span class="hljs-built_in">module</span>.exports.ANIMATION_STYLE = ANIMATION_STYLE;</pre></div>
        
      
      <div class="fleur">h</div>
    </div>
  </div>
</body>
</html>
